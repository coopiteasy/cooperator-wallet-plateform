<odoo>
	<!-- <data noupdate="1"> fixme -->
	<data>
		<!-- Partners -->
	    <record id="res_partner_emc_user_read_rule" model="ir.rule">
	        <field name="name">todo</field>
	        <field name="model_id" ref="base.model_res_partner"/>
	        <field name="groups" eval="[(4, ref('easy_my_coop.group_easy_my_coop_user'))]"/>
			<field name="perm_read" eval="1"/>
			<field name="perm_write" eval="0"/>
			<field name="perm_create" eval="0"/>
			<field name="perm_unlink" eval="0"/>
			<field name="domain_force">[(1, '=', 1)]</field>
	    </record>

	    <record id="res_partner_emc_user_create_write_rule" model="ir.rule">
	        <field name="name">todo</field>
	        <field name="model_id" ref="base.model_res_partner"/>
	        <field name="groups" eval="[(4, ref('easy_my_coop.group_easy_my_coop_manager'))]"/>
			<field name="perm_read" eval="0"/>
			<field name="perm_create" eval="1"/>
			<field name="perm_write" eval="1"/>
			<field name="perm_unlink" eval="0"/>
			<field name="domain_force">[('is_platform_structure', '=', False)]</field>
	    </record>

	    <record id="res_partner_emc_user_modify_its_own_structure" model="ir.rule">
	        <field name="name">todo</field>
	        <field name="model_id" ref="base.model_res_partner"/>
	        <field name="groups" eval="[(4, ref('easy_my_coop.group_easy_my_coop_manager'))]"/>
			<field name="perm_read" eval="0"/>
			<field name="perm_create" eval="0"/>
			<field name="perm_write" eval="1"/>
			<field name="perm_unlink" eval="0"/>
			<!-- todo use user.structure-->
			<field name="domain_force">[('id','=',user.structure.id)]</field>
	    </record>

	    <record id="res_partner_iwp_manager_access_to_all_partners" model="ir.rule">
	        <field name="name">todo</field>
	        <field name="model_id" ref="base.model_res_partner"/>
	        <field name="groups" eval="[(4, ref('group_platform_wallet_user'))]"/>
			<field name="perm_read" eval="1"/>
			<field name="perm_create" eval="1"/>
			<field name="perm_write" eval="1"/>
			<field name="perm_unlink" eval="1"/>
			<field name="domain_force">[(1, '=', 1)]</field>
	    </record>

		<!-- Subscription Request -->

	    <record id="subscription_request_emc_user_own_subscription_request_rule" model="ir.rule">
	        <field name="name">todo</field>
	        <field name="model_id" ref="easy_my_coop.model_subscription_request"/>
	        <field name="groups" eval="[(4, ref('easy_my_coop.group_easy_my_coop_user'))]"/>
			<field name="perm_read" eval="1"/>
			<field name="perm_write" eval="1"/>
			<field name="perm_create" eval="1"/>
			<field name="perm_unlink" eval="1"/>
	        <field name="domain_force">[('structure','=',user.structure.id)]</field>
	    </record>

	    <record id="subscription_request_iwp_user_all_subscription_request_rule" model="ir.rule">
	        <field name="name">todo</field>
	        <field name="model_id" ref="easy_my_coop.model_subscription_request"/>
	        <field name="groups" eval="[(4, ref('group_platform_wallet_user'))]"/>
			<field name="perm_read" eval="1"/>
			<field name="perm_write" eval="1"/>
			<field name="perm_create" eval="1"/>
			<field name="perm_unlink" eval="1"/>
	        <field name="domain_force">[(1, "=", 1)]</field>
	    </record>
		
		<!-- Operation Request -->
		
	    <record id="operation_request_emc_user_own_operation_request_rule" model="ir.rule">
	        <field name="name">todo</field>
	        <field name="model_id" ref="easy_my_coop.model_operation_request"/>
	        <field name="groups" eval="[(4, ref('easy_my_coop.group_easy_my_coop_user'))]"/>
			<field name="perm_read" eval="1"/>
			<field name="perm_write" eval="1"/>
			<field name="perm_create" eval="1"/>
			<field name="perm_unlink" eval="1"/>
	        <field name="domain_force">[('structure','=',user.structure.id)]</field>
	    </record>

	    <record id="operation_request_iwp_user_all_operation_request_rule" model="ir.rule">
	        <field name="name">todo</field>
	        <field name="model_id" ref="easy_my_coop.model_operation_request"/>
	        <field name="groups" eval="[(4, ref('group_platform_wallet_user'))]"/>
			<field name="perm_read" eval="1"/>
			<field name="perm_write" eval="1"/>
			<field name="perm_create" eval="1"/>
			<field name="perm_unlink" eval="1"/>
	        <field name="domain_force">[(1, "=", 1)]</field>
	    </record>

		<!-- Share Line -->

	    <record id="share_line_emc_user_own_share_line_rule" model="ir.rule">
	        <field name="name">todo</field>
	        <field name="model_id" ref="easy_my_coop.model_share_line"/>
	        <field name="groups" eval="[(4, ref('easy_my_coop.group_easy_my_coop_user'))]"/>
			<field name="perm_read" eval="1"/>
			<field name="perm_write" eval="1"/>
			<field name="perm_create" eval="1"/>
			<field name="perm_unlink" eval="1"/>
	        <field name="domain_force">[('structure','=',user.structure.id)]</field>
	    </record>

	    <record id="share_line_iwp_user_all_share_line_rule" model="ir.rule">
	        <field name="name">todo</field>
	        <field name="model_id" ref="easy_my_coop.model_share_line"/>
	        <field name="groups" eval="[(4, ref('group_platform_wallet_user'))]"/>
			<field name="perm_read" eval="1"/>
			<field name="perm_write" eval="1"/>
			<field name="perm_create" eval="1"/>
			<field name="perm_unlink" eval="1"/>
	        <field name="domain_force">[(1, "=", 1)]</field>
	    </record>

		<!-- Subscription Register -->

	    <record id="subscription_register_emc_user_own_subscription_register_rule" model="ir.rule">
	        <field name="name">todo</field>
	        <field name="model_id" ref="easy_my_coop.model_subscription_register"/>
	        <field name="groups" eval="[(4, ref('easy_my_coop.group_easy_my_coop_user'))]"/>
			<field name="perm_read" eval="1"/>
			<field name="perm_write" eval="1"/>
			<field name="perm_create" eval="1"/>
			<field name="perm_unlink" eval="1"/>
	        <field name="domain_force">[('structure','=',user.structure.id)]</field>
	    </record>

	    <record id="subscription_register_iwp_user_all_subscription_register_rule" model="ir.rule">
	        <field name="name">todo</field>
	        <field name="model_id" ref="easy_my_coop.model_subscription_register"/>
	        <field name="groups" eval="[(4, ref('group_platform_wallet_user'))]"/>
			<field name="perm_read" eval="1"/>
			<field name="perm_write" eval="1"/>
			<field name="perm_create" eval="1"/>
			<field name="perm_unlink" eval="1"/>
	        <field name="domain_force">[(1, "=", 1)]</field>
	    </record>

		<!-- Product Template -->

<!--		fixme Je n'y arrive pas dans les droits car il ya des règles du modules-->
<!--        product standard qui donnent accès. Je mets un filtre sur la vue-->
<!--        pour avancer.-->
<!--	    <record id="product_template_emc_user_cannot_create_share_rule" model="ir.rule">-->
<!--	        <field name="name">todo</field>-->
<!--	        <field name="model_id" ref="product.model_product_template"/>-->
<!--	        <field name="groups" eval="[(4, ref('easy_my_coop.group_easy_my_coop_user'))]"/>-->
<!--			<field name="perm_read" eval="0"/>-->
<!--			<field name="perm_write" eval="1"/>-->
<!--			<field name="perm_create" eval="1"/>-->
<!--			<field name="perm_unlink" eval="0"/>-->
<!--	        <field name="domain_force">[('is_share', '=', False)]</field>-->
<!--	    </record>-->
		
		<record id="product_template_emc_user_can_read_rule" model="ir.rule">
	        <field name="name">todo</field>
	        <field name="model_id" ref="product.model_product_template"/>
	        <field name="groups" eval="[(4, ref('easy_my_coop.group_easy_my_coop_user'))]"/>
			<field name="perm_read" eval="1"/>
			<field name="perm_write" eval="0"/>
			<field name="perm_create" eval="0"/>
			<field name="perm_unlink" eval="0"/>
	        <field name="domain_force">[(1, "=", 1)]</field>
	    </record>

	    <record id="product_template_emc_user_own_product_template_rule" model="ir.rule">
	        <field name="name">todo</field>
	        <field name="model_id" ref="product.model_product_template"/>
	        <field name="groups" eval="[(4, ref('easy_my_coop.group_easy_my_coop_manager'))]"/>
			<field name="perm_read" eval="1"/>
			<field name="perm_write" eval="1"/>
			<field name="perm_create" eval="1"/>
			<field name="perm_unlink" eval="1"/>
	        <field name="domain_force">[('is_share', '=', True),('structure','=',user.structure.id)]</field>
	    </record>

	    <record id="product_template_iwp_user_access_not_share_product_template_rule" model="ir.rule">
	        <field name="name">todo</field>
	        <field name="model_id" ref="product.model_product_template"/>
	        <field name="groups" eval="[(4, ref('easy_my_coop.group_easy_my_coop_manager'))]"/>
			<field name="perm_read" eval="1"/>
			<field name="perm_write" eval="1"/>
			<field name="perm_create" eval="1"/>
			<field name="perm_unlink" eval="1"/>
	        <field name="domain_force">[('is_share', '=', False)]</field>
	    </record>

	    <record id="product_template_iwp_user_all_product_template_rule" model="ir.rule">
	        <field name="name">todo</field>
	        <field name="model_id" ref="product.model_product_template"/>
	        <field name="groups" eval="[(4, ref('group_platform_wallet_user'))]"/>
			<field name="perm_read" eval="1"/>
			<field name="perm_write" eval="1"/>
			<field name="perm_create" eval="1"/>
			<field name="perm_unlink" eval="1"/>
	        <field name="domain_force">[(1, "=", 1)]</field>
	    </record>

		<!-- Product Product -->

<!--	    <record id="product_product_emc_user_cannot_create_share_rule" model="ir.rule">-->
<!--	        <field name="name">todo</field>-->
<!--	        <field name="model_id" ref="product.model_product_product"/>-->
<!--	        <field name="groups" eval="[(4, ref('easy_my_coop.group_easy_my_coop_user'))]"/>-->
<!--			<field name="perm_read" eval="0"/>-->
<!--			<field name="perm_write" eval="1"/>-->
<!--			<field name="perm_create" eval="1"/>-->
<!--			<field name="perm_unlink" eval="0"/>-->
<!--	        <field name="domain_force">[('is_share', '=', False)]</field>-->
<!--	    </record>-->

		<record id="product_product_emc_user_can_read_rule" model="ir.rule">
	        <field name="name">todo</field>
	        <field name="model_id" ref="product.model_product_product"/>
	        <field name="groups" eval="[(4, ref('easy_my_coop.group_easy_my_coop_user'))]"/>
			<field name="perm_read" eval="1"/>
			<field name="perm_write" eval="0"/>
			<field name="perm_create" eval="0"/>
			<field name="perm_unlink" eval="0"/>
	        <field name="domain_force">[(1, "=", 1)]</field>
	    </record>

	    <record id="product_product_emc_user_own_product_product_rule" model="ir.rule">
	        <field name="name">todo</field>
	        <field name="model_id" ref="product.model_product_product"/>
	        <field name="groups" eval="[(4, ref('easy_my_coop.group_easy_my_coop_manager'))]"/>
			<field name="perm_read" eval="1"/>
			<field name="perm_write" eval="1"/>
			<field name="perm_create" eval="1"/>
			<field name="perm_unlink" eval="1"/>
	        <field name="domain_force">[('is_share', '=', True),('structure','=',user.structure.id)]</field>
	    </record>

	    <record id="product_product_iwp_user_access_not_share_product_product_rule" model="ir.rule">
	        <field name="name">todo</field>
	        <field name="model_id" ref="product.model_product_product"/>
	        <field name="groups" eval="[(4, ref('easy_my_coop.group_easy_my_coop_manager'))]"/>
			<field name="perm_read" eval="1"/>
			<field name="perm_write" eval="1"/>
			<field name="perm_create" eval="1"/>
			<field name="perm_unlink" eval="1"/>
	        <field name="domain_force">[('is_share', '=', False)]</field>
	    </record>

	    <record id="product_product_iwp_user_all_product_product_rule" model="ir.rule">
	        <field name="name">todo</field>
	        <field name="model_id" ref="product.model_product_product"/>
	        <field name="groups" eval="[(4, ref('group_platform_wallet_user'))]"/>
			<field name="perm_read" eval="1"/>
			<field name="perm_write" eval="1"/>
			<field name="perm_create" eval="1"/>
			<field name="perm_unlink" eval="1"/>
	        <field name="domain_force">[(1, "=", 1)]</field>
	    </record>

		<!-- Account Invoice -->

	    <record id="account_invoice_emc_user_own_account_invoice_rule" model="ir.rule">
	        <field name="name">todo</field>
	        <field name="model_id" ref="account.model_account_invoice"/>
	        <field name="groups" eval="[(4, ref('easy_my_coop.group_easy_my_coop_user'))]"/>
			<field name="perm_read" eval="1"/>
			<field name="perm_write" eval="1"/>
			<field name="perm_create" eval="1"/>
			<field name="perm_unlink" eval="1"/>
	        <field name="domain_force">[('structure','=',user.structure.id)]</field>
	    </record>

	    <record id="account_invoice_iwp_user_all_account_invoice_rule" model="ir.rule">
	        <field name="name">todo</field>
	        <field name="model_id" ref="account.model_account_invoice"/>
	        <field name="groups" eval="[(4, ref('group_platform_wallet_user'))]"/>
			<field name="perm_read" eval="1"/>
			<field name="perm_write" eval="1"/>
			<field name="perm_create" eval="1"/>
			<field name="perm_unlink" eval="1"/>
	        <field name="domain_force">[(1, "=", 1)]</field>
	    </record>

		<!-- Loan Issue -->

	    <record id="loan_issue_emc_user_own_loan_issue_rule" model="ir.rule">
	        <field name="name">todo</field>
	        <field name="model_id" ref="easy_my_coop_loan.model_loan_issue"/>
	        <field name="groups" eval="[(4, ref('easy_my_coop.group_easy_my_coop_user'))]"/>
			<field name="perm_read" eval="1"/>
			<field name="perm_write" eval="1"/>
			<field name="perm_create" eval="1"/>
			<field name="perm_unlink" eval="1"/>
	        <field name="domain_force">[('structure','=',user.structure.id)]</field>
	    </record>

	    <record id="loan_issue_iwp_user_all_loan_issue_rule" model="ir.rule">
	        <field name="name">todo</field>
	        <field name="model_id" ref="easy_my_coop_loan.model_loan_issue"/>
	        <field name="groups" eval="[(4, ref('group_platform_wallet_user'))]"/>
			<field name="perm_read" eval="1"/>
			<field name="perm_write" eval="1"/>
			<field name="perm_create" eval="1"/>
			<field name="perm_unlink" eval="1"/>
	        <field name="domain_force">[(1, "=", 1)]</field>
	    </record>

		<!-- Loan Issue Line -->

	    <record id="loan_issue_line_emc_user_own_loan_issue_line_rule" model="ir.rule">
	        <field name="name">todo</field>
	        <field name="model_id" ref="easy_my_coop_loan.model_loan_issue_line"/>
	        <field name="groups" eval="[(4, ref('easy_my_coop.group_easy_my_coop_user'))]"/>
			<field name="perm_read" eval="1"/>
			<field name="perm_write" eval="1"/>
			<field name="perm_create" eval="1"/>
			<field name="perm_unlink" eval="1"/>
	        <field name="domain_force">[('structure','=',user.structure.id)]</field>
	    </record>

	    <record id="loan_issue_line_iwp_user_all_loan_issue_line_rule" model="ir.rule">
	        <field name="name">todo</field>
	        <field name="model_id" ref="easy_my_coop_loan.model_loan_issue_line"/>
	        <field name="groups" eval="[(4, ref('group_platform_wallet_user'))]"/>
			<field name="perm_read" eval="1"/>
			<field name="perm_write" eval="1"/>
			<field name="perm_create" eval="1"/>
			<field name="perm_unlink" eval="1"/>
	        <field name="domain_force">[(1, "=", 1)]</field>
	    </record>
		
	</data>
</odoo>
